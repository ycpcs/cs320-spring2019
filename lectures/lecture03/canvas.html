<!DOCTYPE html>

<html>
	<head>
		<!-- Get jQuery from google CDN -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

		<script type="text/javascript">
			$(document).ready(function() {
				var colors = [ '#FF0000', '#00FF00', '#0000FF' ];

				var circles = [];

				$("#makeCircle").click(function() {
					var x = Math.floor(Math.random() * 640);
					var y = Math.floor(Math.random() * 480);

					circles.push({ x: x, y: y, color: colors[Math.floor(Math.random() * 3)] });
				});

				window.tick = function() {
					var ctx = $("#canvas").get(0).getContext("2d");
					ctx.clearRect(0, 0, 640, 480);

					for (var i = 0; i < circles.length; i++) {
						var c = circles[i];

						ctx.fillStyle = c.color;
						ctx.beginPath();
						ctx.arc(c.x, c.y, 20,0, Math.PI*2, true);
						ctx.closePath();
						ctx.fill();

						c.y += 5;
					}

					setTimeout("tick()", 100);
				};

				setTimeout("tick()", 100);
			});
		</script>
	</head>

	<body>
		<div>
			<canvas id="canvas" width="640" height="480"></canvas>
		</div>

		<button id="makeCircle">Make circle</button>
	</body>
</html>

